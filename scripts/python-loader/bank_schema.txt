CREATE TABLE IF NOT EXISTS Customers (
    customer_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    email VARCHAR(100) UNIQUE NOT NULL,
    phone_number VARCHAR(20),
    address TEXT,
    date_of_birth DATE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE TABLE IF NOT EXISTS Accounts (
    account_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    customer_id UUID REFERENCES Customers(customer_id),
    account_type VARCHAR(20),
    balance DECIMAL(15, 2) DEFAULT 0.00,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE TABLE IF NOT EXISTS Transactions (
    transaction_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    account_id UUID REFERENCES Accounts(account_id),
    amount DECIMAL(15, 2),
    transaction_type VARCHAR(20),
    transaction_date TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    description TEXT
);

table_name: "Customers"
columns:
  customer_id: "uuid4"                # UUID for customer ID
  first_name: "first_name"            # First name
  last_name: "last_name"              # Last name
  email: "unique.email"                      # Email address
  phone_number: "numerify(text='###-###-####')"        # Phone number
  address: "address"                  # Address
  date_of_birth: "date_of_birth"      # Date of birth
  created_at: "date_time_this_century"# Creation date

table_name: "Accounts"
columns:
  account_id: "uuid4"
  customer_id: "uuid4"
  account_type: "random_element(elements=('savings', 'checking'))"
  balance: "pydecimal(left_digits=10, right_digits=2, positive=True)"
  created_at: "date_time_this_century"

table_name: "Transactions"
columns:
  transaction_id: "uuid4"
  account_id: "uuid4"
  amount: "pydecimal(left_digits=10, right_digits=2, positive=True)"
  transaction_type: "random_element(elements=('deposit', 'withdrawal'))"
  transaction_date: "date_time_this_year"
  description: "sentence"
